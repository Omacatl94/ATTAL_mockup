<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Il Mio Profilo - ATTAL Group</title>
    <meta name="description" content="Gestisci il tuo profilo, CV, candidature e preferenze su ATTAL Group">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- CSS Files -->
    <link rel="stylesheet" href="../assets/css/variables.css">
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/pages/profilo.css">
</head>
<body>

    <!-- Header incluso dinamicamente -->
    <div id="header-placeholder"></div>

    <div class="profile-container">

        <!-- PROFILE HEADER -->
        <div class="profile-header">
            <div class="profile-banner"></div>

            <div class="profile-main-info">
                <div class="profile-avatar-container">
                    <div class="profile-avatar">MR</div>
                    <div class="avatar-badge">
                        <i data-lucide="check" stroke-width="3"></i>
                    </div>
                </div>

                <h1 class="profile-name">Mario Rossi</h1>
                <p class="profile-headline">Operaio Specializzato | 5 anni esperienza logistica | Patentino muletto certificato</p>

                <div class="profile-meta">
                    <div class="profile-meta-item">
                        <i data-lucide="map-pin"></i>
                        <span>Milano, Italia</span>
                    </div>
                    <div class="profile-meta-item">
                        <i data-lucide="mail"></i>
                        <span>mario.rossi@email.com</span>
                    </div>
                    <div class="profile-meta-item">
                        <i data-lucide="phone"></i>
                        <span>+39 333 1234567</span>
                    </div>
                    <div class="profile-meta-item">
                        <i data-lucide="calendar"></i>
                        <span>Iscritto da Nov 2024</span>
                    </div>
                </div>

                <div class="profile-actions">
                    <button class="btn btn-primary" onclick="scrollToSection('profilo')">
                        <i data-lucide="edit-3"></i>
                        Modifica Profilo
                    </button>
                    <button class="btn btn-secondary" onclick="window.open('careers.html')">
                        <i data-lucide="search"></i>
                        Cerca Lavoro
                    </button>
                    <button class="btn btn-ghost" onclick="window.print()">
                        <i data-lucide="download"></i>
                        Scarica CV
                    </button>
                </div>
            </div>
        </div>

        <!-- PROFILE STRENGTH (Progress Bar) -->
        <div class="profile-strength">
            <div class="strength-header">
                <h3 class="strength-title">
                    <i data-lucide="bar-chart-2" style="width: 20px; height: 20px; display: inline-block; vertical-align: middle; margin-right: 8px;"></i>
                    Completamento Profilo
                </h3>
                <span class="strength-percentage">75%</span>
            </div>

            <div class="progress-bar-bg">
                <div class="progress-bar-fill" style="width: 75%;"></div>
            </div>

            <div class="strength-items">
                <div class="strength-item completed">
                    <i data-lucide="check-circle" class="strength-icon done"></i>
                    <div class="strength-text">
                        <strong>Foto profilo caricata</strong>
                    </div>
                </div>
                <div class="strength-item completed">
                    <i data-lucide="check-circle" class="strength-icon done"></i>
                    <div class="strength-text">
                        <strong>Informazioni di contatto complete</strong>
                    </div>
                </div>
                <div class="strength-item completed">
                    <i data-lucide="check-circle" class="strength-icon done"></i>
                    <div class="strength-text">
                        <strong>CV caricato</strong>
                    </div>
                </div>
                <div class="strength-item">
                    <i data-lucide="circle" class="strength-icon pending"></i>
                    <div class="strength-text">
                        <strong>Aggiungi la tua bio</strong>
                    </div>
                    <span class="strength-bonus">+10%</span>
                </div>
                <div class="strength-item">
                    <i data-lucide="circle" class="strength-icon pending"></i>
                    <div class="strength-text">
                        <strong>Aggiungi almeno 5 competenze</strong>
                    </div>
                    <span class="strength-bonus">+15%</span>
                </div>
            </div>

            <p style="margin-top: 16px; font-size: 13px; color: var(--gray-600); text-align: center;">
                <i data-lucide="lightbulb" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle; color: var(--warning);"></i> I profili completi ricevono <strong>3x pi√π contatti</strong> dai recruiter
            </p>
        </div>

        <!-- TABS -->
        <div class="profile-tabs">
            <button class="tab-item active" onclick="switchTab('overview')">
                <i data-lucide="layout-dashboard"></i>
                Dashboard
            </button>
            <button class="tab-item" onclick="switchTab('profilo')">
                <i data-lucide="user"></i>
                Il Mio Profilo
            </button>
            <button class="tab-item" onclick="switchTab('candidature')">
                <i data-lucide="briefcase"></i>
                Candidature (5)
            </button>
            <button class="tab-item" onclick="switchTab('salvate')">
                <i data-lucide="heart"></i>
                Salvate (12)
            </button>
            <button class="tab-item" onclick="switchTab('badges')">
                <i data-lucide="award"></i>
                Traguardi
            </button>
            <button class="tab-item" onclick="switchTab('impostazioni')">
                <i data-lucide="settings"></i>
                Impostazioni
            </button>
        </div>

        <!-- TAB: DASHBOARD -->
        <div class="tab-content active" id="tab-overview">

            <!-- STATS -->
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">5</span>
                    <span class="stat-label">Candidature Inviate</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">2</span>
                    <span class="stat-label">In Revisione</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Colloqui Fissati</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">12</span>
                    <span class="stat-label">Offerte Salvate</span>
                </div>
            </div>

            <!-- RECENT APPLICATIONS -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="briefcase"></i>
                        Candidature Recenti
                    </h2>
                    <a href="#" class="btn btn-ghost" onclick="switchTab('candidature'); return false;">
                        Vedi tutte
                    </a>
                </div>

                <div class="application-card">
                    <div class="application-header">
                        <div>
                            <div class="application-title">Magazziniere Mulettista</div>
                            <div class="application-company">ATTAL Group ‚Ä¢ Milano Nord - Sesto San Giovanni</div>
                        </div>
                        <span class="application-badge badge-reviewing">In Revisione</span>
                    </div>
                    <div class="application-meta">
                        <div class="application-meta-item">
                            <i data-lucide="calendar"></i>
                            <span>Candidato il 10 Gen 2025</span>
                        </div>
                        <div class="application-meta-item">
                            <i data-lucide="euro"></i>
                            <span>1.450‚Ç¨/mese</span>
                        </div>
                        <div class="application-meta-item">
                            <i data-lucide="clock"></i>
                            <span>Full-time</span>
                        </div>
                    </div>
                    <button class="btn btn-ghost" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'none' ? 'block' : 'none'">
                        <i data-lucide="timeline"></i>
                        Vedi Timeline
                    </button>
                    <div class="application-timeline" style="display: none;">
                        <div class="timeline-item active">
                            <div class="timeline-date">10 Gen, 14:32</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Candidatura inviata</div>
                            </div>
                        </div>
                        <div class="timeline-item active">
                            <div class="timeline-date">10 Gen, 15:20</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Candidatura visualizzata</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">In attesa</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Screening recruiter</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="application-card">
                    <div class="application-header">
                        <div>
                            <div class="application-title">Operaio di Produzione</div>
                            <div class="application-company">ATTAL Group ‚Ä¢ Torino Sud - Moncalieri</div>
                        </div>
                        <span class="application-badge badge-accepted">Colloquio Fissato</span>
                    </div>
                    <div class="application-meta">
                        <div class="application-meta-item">
                            <i data-lucide="calendar"></i>
                            <span>Candidato il 5 Gen 2025</span>
                        </div>
                        <div class="application-meta-item">
                            <i data-lucide="euro"></i>
                            <span>1.600‚Ç¨/mese</span>
                        </div>
                        <div class="application-meta-item">
                            <i data-lucide="clock"></i>
                            <span>Full-time</span>
                        </div>
                    </div>
                    <div style="background: rgba(11, 141, 132, 0.1); border-radius: 8px; padding: 16px; margin-top: 16px;">
                        <strong style="color: var(--success); display: flex; align-items: center; gap: 8px;">
                            <i data-lucide="party-popper" style="width: 20px; height: 20px;"></i>
                            Colloquio confermato!
                        </strong>
                        <p style="margin-top: 8px; font-size: 14px; color: var(--gray-700);">
                            <i data-lucide="calendar" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle;"></i> Luned√¨ 20 Gennaio 2025, ore 10:00<br>
                            <i data-lucide="map-pin" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle;"></i> ATTAL Torino - Corso Francia 10
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: PROFILO -->
        <div class="tab-content" id="tab-profilo">

            <!-- DATI PERSONALI -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="user"></i>
                        Dati Personali
                    </h2>
                    <button class="btn btn-primary">
                        <i data-lucide="save"></i>
                        Salva Modifiche
                    </button>
                </div>

                <form class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome</label>
                        <input type="text" class="form-input" value="Mario" placeholder="Nome">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cognome</label>
                        <input type="text" class="form-input" value="Rossi" placeholder="Cognome">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" value="mario.rossi@email.com" placeholder="Email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telefono</label>
                        <input type="tel" class="form-input" value="+39 333 1234567" placeholder="Telefono">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data di Nascita</label>
                        <input type="date" class="form-input" value="1990-05-15">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Citt√†</label>
                        <input type="text" class="form-input" value="Milano" placeholder="Citt√†">
                    </div>
                    <div class="form-group full-width">
                        <label class="form-label">Headline Professionale</label>
                        <input type="text" class="form-input" value="Operaio Specializzato | 5 anni esperienza logistica | Patentino muletto certificato" placeholder="es: Marketing Manager | 8 anni esperienza B2B | Specialista Lead Generation">
                        <p style="font-size: 12px; color: var(--gray-500); margin-top: 4px;">Usa la formula: [Ruolo] | [Esperienza] | [Specializzazione]</p>
                    </div>
                    <div class="form-group full-width">
                        <label class="form-label">Bio / Presentazione (500-800 caratteri)</label>
                        <textarea class="form-input form-textarea" placeholder="Raccontaci chi sei, la tua esperienza e cosa cerchi..."></textarea>
                        <p style="font-size: 12px; color: var(--gray-500); margin-top: 4px;">I primi 300 caratteri sono cruciali per mobile. Usa numeri e risultati concreti.</p>
                    </div>
                </form>
            </div>

            <!-- CV -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="file-text"></i>
                        Il Mio CV
                    </h2>
                    <button class="btn btn-secondary">
                        <i data-lucide="download"></i>
                        Scarica CV
                    </button>
                </div>

                <div class="cv-current">
                    <div class="cv-file-icon">
                        <i data-lucide="file-text" style="width:28px;height:28px;"></i>
                    </div>
                    <div class="cv-file-info">
                        <div class="cv-file-name">CV_Mario_Rossi_2024.pdf</div>
                        <div class="cv-file-meta">Caricato il 15 Gen 2024 ‚Ä¢ 1.2 MB</div>
                    </div>
                    <button class="btn btn-ghost">
                        <i data-lucide="refresh-cw"></i>
                        Aggiorna
                    </button>
                </div>

                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: var(--gray-900);">ü§ñ Competenze Estratte dall'AI</h3>
                <div class="skills-tags">
                    <span class="skill-tag">Magazzino</span>
                    <span class="skill-tag">Muletto</span>
                    <span class="skill-tag">Logistica</span>
                    <span class="skill-tag">Inventario</span>
                    <span class="skill-tag">Carico/Scarico</span>
                    <span class="skill-tag">Teamwork</span>
                    <span class="skill-tag">Puntualit√†</span>
                    <span class="skill-tag">Problem Solving</span>
                </div>
            </div>

        </div>

        <!-- TAB: CANDIDATURE -->
        <div class="tab-content" id="tab-candidature">
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="briefcase"></i>
                        Tutte le Candidature
                    </h2>
                    <div style="display: flex; gap: 12px;">
                        <select class="form-input" style="width: auto;">
                            <option>Tutte le candidature</option>
                            <option>In corso</option>
                            <option>Archiviate</option>
                        </select>
                        <button class="btn btn-primary" onclick="window.location.href='careers.html'">
                            <i data-lucide="search"></i>
                            Nuova Ricerca
                        </button>
                    </div>
                </div>

                <!-- Applications list same as dashboard... -->
                <p style="color: var(--gray-600); text-align: center; padding: 40px 0;">
                    Visualizza qui tutte le tue candidature con filtri avanzati
                </p>
            </div>
        </div>

        <!-- TAB: SALVATE -->
        <div class="tab-content" id="tab-salvate">
            <div class="section-card">
                <div class="empty-state">
                    <div class="empty-icon">
                        <i data-lucide="heart"></i>
                    </div>
                    <div class="empty-title">Nessuna offerta salvata</div>
                    <div class="empty-text">Salva le offerte interessanti per trovarle facilmente in seguito</div>
                    <a href="careers.html" class="btn btn-primary">
                        <i data-lucide="search"></i>
                        Esplora Offerte
                    </a>
                </div>
            </div>
        </div>

        <!-- TAB: BADGES -->
        <div class="tab-content" id="tab-badges">
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="award"></i>
                        I Tuoi Traguardi
                    </h2>
                </div>

                <div class="badges-grid">
                    <div class="badge-card earned">
                        <div class="badge-icon">
                            <i data-lucide="target" stroke-width="2"></i>
                        </div>
                        <div class="badge-name">Prima Candidatura</div>
                        <div class="badge-description">Hai fatto il primo passo!</div>
                    </div>
                    <div class="badge-card earned">
                        <div class="badge-icon">
                            <i data-lucide="file-text" stroke-width="2"></i>
                        </div>
                        <div class="badge-name">CV Caricato</div>
                        <div class="badge-description">Profilo pronto all'uso</div>
                    </div>
                    <div class="badge-card earned">
                        <div class="badge-icon">
                            <i data-lucide="star" stroke-width="2"></i>
                        </div>
                        <div class="badge-name">Profilo Verificato</div>
                        <div class="badge-description">Email confermata</div>
                    </div>
                    <div class="badge-card locked">
                        <div class="badge-icon">
                            <i data-lucide="flame" stroke-width="2"></i>
                        </div>
                        <div class="badge-name">Streak 7 Giorni</div>
                        <div class="badge-description">Una settimana di ricerca attiva</div>
                    </div>
                    <div class="badge-card locked">
                        <div class="badge-icon">
                            <i data-lucide="mic" stroke-width="2"></i>
                        </div>
                        <div class="badge-name">Primo Colloquio</div>
                        <div class="badge-description">Completa un colloquio</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: IMPOSTAZIONI -->
        <div class="tab-content" id="tab-impostazioni">

            <!-- SICUREZZA -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="lock"></i>
                        Sicurezza Account
                    </h2>
                </div>

                <div style="display: grid; gap: 20px;">
                    <div style="padding: 20px; background: var(--gray-50); border-radius: 8px;">
                        <strong style="color: var(--gray-900);">Email di accesso</strong>
                        <p style="color: var(--gray-600); margin: 8px 0; display: flex; align-items: center; gap: 8px;">
                            mario.rossi@email.com
                            <span style="color: var(--success); display: flex; align-items: center; gap: 4px;">
                                <i data-lucide="check-circle" style="width: 16px; height: 16px;"></i>
                                Verificata
                            </span>
                        </p>
                        <button class="btn btn-ghost">Modifica</button>
                    </div>

                    <div style="padding: 20px; background: var(--gray-50); border-radius: 8px;">
                        <strong style="color: var(--gray-900);">Password</strong>
                        <p style="color: var(--gray-600); margin: 8px 0;">Ultima modifica: 45 giorni fa ‚Ä¢ Forza: Buona</p>
                        <button class="btn btn-ghost">Cambia Password</button>
                    </div>

                    <div style="padding: 20px; background: var(--gray-50); border-radius: 8px;">
                        <strong style="color: var(--gray-900);">Autenticazione a due fattori</strong>
                        <p style="color: var(--warning); margin: 8px 0; display: flex; align-items: center; gap: 6px;">
                            <i data-lucide="x-circle" style="width: 16px; height: 16px;"></i>
                            Non attiva
                        </p>
                        <button class="btn btn-primary">Attiva 2FA</button>
                    </div>
                </div>
            </div>

            <!-- PRIVACY -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="eye"></i>
                        Privacy e Visibilit√†
                    </h2>
                </div>

                <div style="display: grid; gap: 20px;">
                    <div style="padding: 20px; background: var(--gray-50); border-radius: 8px;">
                        <strong style="color: var(--gray-900);">Chi pu√≤ vedere il tuo profilo?</strong>
                        <div style="margin-top: 12px; display: grid; gap: 8px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="visibility" value="all">
                                <span>Tutti (pubblico)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="visibility" value="companies" checked>
                                <span>Solo aziende su ATTAL (consigliato)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="visibility" value="none">
                                <span>Nessuno (nascosto)</span>
                            </label>
                        </div>
                    </div>

                    <div style="padding: 20px; background: var(--gray-50); border-radius: 8px;">
                        <strong style="color: var(--gray-900);">Visibilit√† per recruiter</strong>
                        <div style="margin-top: 12px; display: grid; gap: 8px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" checked>
                                <span>Mostra ai recruiter che sto cercando lavoro</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" checked>
                                <span>Mostra CV completo</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NOTIFICHE -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">
                        <i data-lucide="bell"></i>
                        Notifiche
                    </h2>
                </div>

                <div style="display: grid; gap: 12px;">
                    <label style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: var(--gray-50); border-radius: 8px; cursor: pointer;">
                        <span>
                            <strong style="display: block; color: var(--gray-900);">Nuove offerte corrispondenti</strong>
                            <small style="color: var(--gray-600);">Ricevi email per offerte in linea col tuo profilo</small>
                        </span>
                        <input type="checkbox" checked>
                    </label>
                    <label style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: var(--gray-50); border-radius: 8px; cursor: pointer;">
                        <span>
                            <strong style="display: block; color: var(--gray-900);">Aggiornamenti candidature</strong>
                            <small style="color: var(--gray-600);">Notifiche sullo stato delle tue candidature</small>
                        </span>
                        <input type="checkbox" checked>
                    </label>
                    <label style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: var(--gray-50); border-radius: 8px; cursor: pointer;">
                        <span>
                            <strong style="display: block; color: var(--gray-900);">Newsletter settimanale</strong>
                            <small style="color: var(--gray-600);">Consigli e novit√† del mercato lavoro</small>
                        </span>
                        <input type="checkbox">
                    </label>
                </div>
            </div>

            <!-- ELIMINAZIONE ACCOUNT -->
            <div class="section-card" style="border: 2px solid var(--attal-red);">
                <div class="section-header">
                    <h2 class="section-title" style="color: var(--attal-red);">
                        <i data-lucide="trash-2"></i>
                        Zona Pericolosa
                    </h2>
                </div>

                <p style="color: var(--gray-600); margin-bottom: 16px;">
                    ‚ö†Ô∏è L'eliminazione dell'account √® irreversibile. Tutti i tuoi dati saranno cancellati entro 30 giorni.
                </p>

                <button class="btn" style="background: var(--attal-red); color: white;" onclick="alert('Funzione di eliminazione account - conferma richiesta')">
                    <i data-lucide="trash-2"></i>
                    Elimina il Mio Account
                </button>
            </div>
        </div>

    </div>

    <!-- Footer incluso dinamicamente -->
    <div id="footer-placeholder"></div>

    <script>
        // Tab Switching
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected tab
            document.getElementById('tab-' + tabName).classList.add('active');
            event.target.closest('.tab-item').classList.add('active');

            // Scroll to tabs position (keeping them visible at the top)
            const tabsElement = document.querySelector('.profile-tabs');
            const header = document.querySelector('#header-placeholder');
            const headerHeight = header ? header.offsetHeight : 0;

            // Get tabs position relative to document
            const tabsPosition = tabsElement.getBoundingClientRect().top + window.pageYOffset;

            // Scroll to position: tabs position minus header height minus small padding
            window.scrollTo({
                top: tabsPosition - headerHeight - 10,
                behavior: 'smooth'
            });
        }

        function scrollToSection(section) {
            switchTab(section);
        }

        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>

    <!-- Componenti Header e Footer -->
    <script src="../assets/js/attal-components.js"></script>

</body>
</html>
